graph TB
    subgraph "METODOLOGIA HEFESTO - DATA WAREHOUSE APUESTAS DEPORTIVAS"
        direction TB

        INICIO[üìä PROYECTO INICIADO<br/>Data Warehouse para<br/>An√°lisis de Apuestas Deportivas]

        subgraph "PASO 1 - ANALISIS DE REQUERIMIENTOS"
            P1[‚úÖ PASO 1 COMPLETADO]
            P1_1[üéØ 3 Preguntas Estrat√©gicas]
            P1_2[üìà 9 Indicadores Clave]
            P1_3[üîç 6 Perspectivas de An√°lisis]
            P1_4[üìã Modelo Conceptual Inicial]

            P1 --> P1_1
            P1 --> P1_2
            P1 --> P1_3
            P1 --> P1_4
        end

        subgraph "PASO 2 - ANALISIS OLTP"
            P2[‚úÖ PASO 2 COMPLETADO]
            P2_1[üóÑÔ∏è 5 Tablas OLTP Identificadas]
            P2_2[üîÑ Transformaci√≥n UNPIVOT<br/>30 columnas ‚Üí 10 filas]
            P2_3[üó∫Ô∏è Mapeo OLTP ‚Üí DW]
            P2_4[üìä Modelo Conceptual Ampliado]

            P2 --> P2_1
            P2 --> P2_2
            P2 --> P2_3
            P2 --> P2_4
        end

        subgraph "PASO 3 - MODELO LOGICO"
            P3[‚úÖ PASO 3 COMPLETADO]
            P3_1[‚≠ê Esquema Constelaci√≥n<br/>2 Tablas de Hechos]
            P3_2[üì¶ 6 Dimensiones<br/>4 Conformadas + 2 Exclusivas]
            P3_3[üîß SCD Tipo 2 en Equipos]
            P3_4[üìê 55 Diagramas HD]
            P3_5[‚ö° 40x Optimizaci√≥n Arbitraje]

            P3 --> P3_1
            P3 --> P3_2
            P3 --> P3_3
            P3 --> P3_4
            P3 --> P3_5
        end

        subgraph "PASO 4 - ETL E IMPLEMENTACION"
            P4[üîÑ PASO 4 PENDIENTE]
            P4_1[‚öôÔ∏è Procesos ETL]
            P4_2[üíæ Implementaci√≥n F√≠sica]
            P4_3[üì• Carga Inicial 903K registros]
            P4_4[üìä Dashboards y Reportes]

            P4 --> P4_1
            P4 --> P4_2
            P4 --> P4_3
            P4 --> P4_4
        end

        INICIO --> P1
        P1 --> P2
        P2 --> P3
        P3 --> P4

        P4 --> FINAL[üéØ DATA WAREHOUSE<br/>EN PRODUCCION]
    end

    subgraph "METRICAS DEL PROYECTO"
        M1[üìä 22,592 Partidos]
        M2[üè¢ 10 Casas de Apuestas]
        M3[‚öΩ 11 Ligas Europeas]
        M4[üìà 903,680 Registros Hechos]
        M5[üé≤ 22,592 Oportunidades Arbitraje]
        M6[üìÖ 8 A√±os de Datos 2008-2016]
    end

    subgraph "ARQUITECTURA FINAL"
        direction LR

        subgraph "DIMENSIONES"
            D1[DIM_FECHA<br/>2,920 registros]
            D2[DIM_LIGA<br/>11 registros]
            D3[DIM_CASA_APUESTAS<br/>10 registros]
            D4[DIM_EQUIPO<br/>~400 registros SCD-2]
            D5[DIM_RESULTADO_TIPO<br/>3 registros]
            D6[DIM_ESTRATEGIA<br/>4 registros]
        end

        subgraph "HECHOS"
            F1[FACT_APUESTAS<br/>903,680 registros<br/>Granularidad Fina]
            F2[FACT_ARBITRAJE<br/>22,592 registros<br/>Granularidad Gruesa]
        end

        D1 --> F1
        D2 --> F1
        D3 --> F1
        D4 --> F1
        D5 --> F1
        D6 --> F1

        D1 --> F2
        D2 --> F2
        D3 --> F2
        D4 --> F2
    end

    style INICIO fill:#e1f5ff,stroke:#01579b,stroke-width:3px
    style P1 fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px
    style P2 fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px
    style P3 fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px
    style P4 fill:#fff3e0,stroke:#ef6c00,stroke-width:3px
    style FINAL fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px

    style F1 fill:#ffebee,stroke:#c62828,stroke-width:2px
    style F2 fill:#ffebee,stroke:#c62828,stroke-width:2px

    style D1 fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style D2 fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style D3 fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style D4 fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style D5 fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style D6 fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
